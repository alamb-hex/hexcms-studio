@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* Light theme (default) */
:root,
[data-theme="light"] {
  --background: #ffffff;
  --foreground: #171717;
  --muted: #f4f4f5;
  --muted-foreground: #71717a;
  --border: #e4e4e7;
  --accent: #3b82f6;
  --accent-foreground: #ffffff;
}

/* Dark theme */
[data-theme="dark"],
.dark {
  --background: #18181b;
  --foreground: #fafafa;
  --muted: #27272a;
  --muted-foreground: #a1a1aa;
  --border: #3f3f46;
  --accent: #3b82f6;
  --accent-foreground: #ffffff;
}

/* Midnight theme - deeper blue-tinted dark */
[data-theme="midnight"] {
  --background: #0f172a;
  --foreground: #e2e8f0;
  --muted: #1e293b;
  --muted-foreground: #94a3b8;
  --border: #334155;
  --accent: #6366f1;
  --accent-foreground: #ffffff;
}

/* Sepia theme - warm paper-like */
[data-theme="sepia"] {
  --background: #faf8f1;
  --foreground: #3d2e1c;
  --muted: #ebe4d3;
  --muted-foreground: #6b5d4d;
  --border: #c9bfad;
  --accent: #b45309;
  --accent-foreground: #ffffff;
}

/* System preference fallback (when no data-theme is set) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #18181b;
    --foreground: #fafafa;
    --muted: #27272a;
    --muted-foreground: #a1a1aa;
    --border: #3f3f46;
    --accent: #3b82f6;
    --accent-foreground: #ffffff;
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), Arial, Helvetica, sans-serif;
  transition: background-color 0.2s ease, color 0.2s ease;
}

/* Midnight-specific overrides for Tailwind dark: classes */
[data-theme="midnight"] {
  /* Override zinc colors with slate for midnight theme */
  --tw-zinc-50: #f8fafc;
  --tw-zinc-100: #f1f5f9;
  --tw-zinc-200: #e2e8f0;
  --tw-zinc-300: #cbd5e1;
  --tw-zinc-400: #94a3b8;
  --tw-zinc-500: #64748b;
  --tw-zinc-600: #475569;
  --tw-zinc-700: #334155;
  --tw-zinc-800: #1e293b;
  --tw-zinc-900: #0f172a;
}

/* Sepia-specific overrides */
[data-theme="sepia"] {
  --tw-zinc-50: #faf8f1;
  --tw-zinc-100: #f3ede0;
  --tw-zinc-200: #ebe4d3;
  --tw-zinc-300: #d4c9b5;
  --tw-zinc-400: #b5a78f;
  --tw-zinc-500: #8b7b65;
  --tw-zinc-600: #6b5d4d;
  --tw-zinc-700: #4d4235;
  --tw-zinc-800: #3d2e1c;
  --tw-zinc-900: #2a1f12;
}

/* Smooth transitions for theme changes */
*,
*::before,
*::after {
  transition-property: background-color, border-color;
  transition-duration: 0.15s;
  transition-timing-function: ease;
}

/* Disable transitions on page load */
.no-transitions *,
.no-transitions *::before,
.no-transitions *::after {
  transition: none !important;
}

/* Theme-aware prose styling for TipTap editor and Preview */
/* Override prose colors for ALL themes to ensure consistency across browsers */
.prose,
.prose-zinc {
  --tw-prose-body: var(--foreground) !important;
  --tw-prose-headings: var(--foreground) !important;
  --tw-prose-lead: var(--muted-foreground) !important;
  --tw-prose-links: var(--accent) !important;
  --tw-prose-bold: var(--foreground) !important;
  --tw-prose-counters: var(--muted-foreground) !important;
  --tw-prose-bullets: var(--muted-foreground) !important;
  --tw-prose-hr: var(--border) !important;
  --tw-prose-quotes: var(--foreground) !important;
  --tw-prose-quote-borders: var(--border) !important;
  --tw-prose-captions: var(--muted-foreground) !important;
  --tw-prose-code: var(--foreground) !important;
  --tw-prose-pre-code: var(--foreground) !important;
  --tw-prose-pre-bg: var(--muted) !important;
  --tw-prose-th-borders: var(--border) !important;
  --tw-prose-td-borders: var(--border) !important;
  color: var(--foreground) !important;
}

/* Direct color overrides for prose elements in all themes */
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose p,
.prose li,
.prose strong {
  color: var(--foreground) !important;
}

/* TipTap editor content area text color */
.ProseMirror {
  color: var(--foreground) !important;
}

.ProseMirror h1,
.ProseMirror h2,
.ProseMirror h3,
.ProseMirror p,
.ProseMirror li,
.ProseMirror strong {
  color: var(--foreground) !important;
}
